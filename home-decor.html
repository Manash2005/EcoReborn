<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crafts And Decor</title>
    <link rel="stylesheet" href="node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Ensure the prices and discounts are on the same line */
        .price {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .del {
            text-decoration: line-through;
            color: gray;
        }

        .strike {
            font-weight: bold;
            color: #28a745;
        }

        .button {
            margin-top: 10px;
        }
    </style>
</head>

<body>

    <div class="button">
        <button class="checkout" onclick="viewCheckoutPage()">Checkout (<span id="cart-count">0</span>)</button>
    </div>

    <section id="product-list">
        <!-- Product items will be dynamically inserted here -->
    </section>

    <script>
        const items = [
            { id: 1, name: 'Upcycled Wood Vase', price: 899, image: 'images/Upcycledwoodenvase.webp', discount: 'Min 10% Off' },
            { id: 2, name: 'Coconut Leaves Stick', price: 249, image: 'images/3D WALL ART FROM COCONUT LEAVES STICK.jpg', discount: 'Min 50% Off' },
            { id: 3, name: 'Palm Leaf Wall Hanging', price: 399, image: 'images/Palm Leaf Wall Hanging.jpg', discount: 'Min 25% Off' },
            { id: 4, name: 'Coconut Shell Candle Holder', price: 149, image: 'images/Coconut shell.jpg', discount: 'Min 30% Off' },
            { id: 5, name: 'Creative Plastic Bottle', price: 89, image: 'images/Plastic Bottle.jpg', discount: 'Min 50% Off' },
            { id: 6, name: 'Paper Lamp', price: 449, image: 'images/paper lamp.jpg', discount: 'Min 15% Off' },
            { id: 7, name: 'Romantic Orange Rose', price: 29, image: 'images/Romantic Orange Rose.webp', discount: 'Min 25% Off' },
            { id: 8, name: 'Egg Shell Craft', price: 149, image: 'images/EggShellCraft.jpg', discount: 'Min 30% Off' },
            { id: 9, name: 'Paper Leaf Wall Hanging', price: 199, image: 'images/Papergreetingcardsandwallhangings.jpg', discount: 'Min 20% Off' },
            { id: 10, name: 'Glass Bottle Plant Hangings', price: 143, image: 'images/GlassBottle.jpg', discount: 'Min 10% Off' },
            { id: 11, name: 'Farmer Sculpture', price: 525, image: 'images/FarmerSculpture.jpg', discount: 'Min 25% Off' },
            { id: 12, name: 'Coconut Shell Candle Holder', price: 150, image: 'images/Coconut shell.jpg', discount: 'Min 30% Off' }
        ];

        const productList = document.getElementById('product-list');

        items.forEach(item => {
            const productCard = document.createElement('div');
            productCard.className = 'card';
            productCard.innerHTML = `
                <img src="${item.image}" alt="${item.name}" class="vase">
                <h3>${item.name}</h3>
                <p>${item.discount}</p>
                <div class="price">
                    <span class="del"><del>&#8377;${(item.price * 1.2).toFixed(2)}</del></span>
                    <span class="strike">&#8377;${item.price}</span>
                </div>
                <div class="button">
                    <button class="buy-now" onclick="buyNow(${item.id})">Buy Now</button>
                    <button class="add-to-cart" onclick="addToCart(${item.id})">Add to cart</button>
                </div>
            `;
            productList.appendChild(productCard);
        });

        function addToCart(itemId) {
            const item = items.find(i => i.id === itemId);
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            if (!cart.some(cartItem => cartItem.id === item.id)) {
                cart.push(item);
                localStorage.setItem('cart', JSON.stringify(cart));
                alert(`${item.name} has been successfully added to your cart!`);
                updateCartCount();
            } else {
                alert(`${item.name} is already in your cart.`);
            }
        }

        function buyNow(itemId) {
            const item = items.find(i => i.id === itemId);
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (!cart.some(cartItem => cartItem.id === item.id)) {
                cart.push(item);
                localStorage.setItem('cart', JSON.stringify(cart));
            }
            window.location.href = 'checkout.html';
        }

        function viewCheckoutPage() {
            window.location.href = 'checkout.html';
        }

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartCount = cart.length;
            document.getElementById('cart-count').textContent = cartCount;
        }

        // Update the cart count on page load if there are items in the cart
        window.onload = updateCartCount;
    </script>

</body>

</html>
